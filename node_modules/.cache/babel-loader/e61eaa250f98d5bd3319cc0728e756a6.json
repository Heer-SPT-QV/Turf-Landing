{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sptdev/Desktop/reactjs/turf2/src/components/Bookings.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport classnames from \"classnames\";\nimport axios from \"axios\";\nimport { BiCalendarWeek } from \"react-icons/bi\";\nimport { toast } from \"react-toastify\";\nimport styles from \"../css/Bookings.module.css\";\nimport GroundImage from \"../images/ground.png\";\nimport GroundImageSelected from \"../images/ground_selected.png\";\nimport api from \"../config/api\";\nimport headerWithoutToken from \"../config/headerWithoutToken\";\nimport { Context } from \"../data/context\";\nimport SlotItems from \"./SlotItems\";\nimport { convertMinsToHrsMins, getMaxAllowedMonth } from \"../utils/TimeConverter\";\nimport { Link } from \"react-router-dom\";\nimport { filterData } from \"../utils/filterData\";\n\nconst Bookings = () => {\n  _s();\n\n  const {\n    groundData,\n    setGroundData,\n    totalTime,\n    bookDate,\n    setBookDate,\n    setCartId,\n    setPhoneNumber,\n    setCartData\n  } = useContext(Context);\n  const [isGroundSelected1, setIsGroundSelected1] = useState(true);\n  const [isGroundSelected2, setIsGroundSelected2] = useState(false);\n  const [isGroundSelected3, setIsGroundSelected3] = useState(false);\n  const [maxAllowedDate, setMaxAllowedDate] = useState(\"\");\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n  const handleFetchedData = useCallback((res, FetchgroundData) => {\n    if (res.data.success) {\n      const [sortedData] = filterData(res.data.body);\n      setCartData(sortedData);\n      const selectedDateCart = sortedData[bookDate];\n      const newData = FetchgroundData;\n\n      if (selectedDateCart) {\n        if (selectedDateCart.turf01 || newData.turf01) {\n          selectedDateCart.turf01.forEach(item => {\n            newData.turf01.forEach(item2 => {\n              if (`${item.startTime}_g1_${item.date}` === `${item2.startTime}_g1_${item2.date}`) {\n                item2.isSelected = true;\n              }\n            });\n          });\n        }\n\n        if (selectedDateCart.turf02 || newData.turf02) {\n          selectedDateCart.turf02.forEach(item => {\n            newData.turf02.forEach(item2 => {\n              if (`${item.startTime}_g2_${item.date}` === `${item2.startTime}_g2_${item2.date}`) {\n                item2.isSelected = true;\n              }\n            });\n          });\n        }\n\n        if (selectedDateCart.turf03 || newData.turf03) {\n          selectedDateCart.turf03.forEach(item => {\n            newData.turf03.forEach(item2 => {\n              if (`${item.startTime}_g3_${item.date}` === `${item2.startTime}_g3_${item2.date}`) {\n                item2.isSelected = true;\n              }\n            });\n          });\n        }\n      }\n\n      setGroundData({ ...newData\n      });\n    }\n  }, [setCartData, bookDate, setGroundData]);\n  const fetchCartData = useCallback(FetchgroundData => {\n    const data = JSON.parse(localStorage.getItem(\"turfUserDetails\"));\n    const cartLocalId = localStorage.getItem(\"turfCart\");\n    setCartId(() => cartLocalId ? cartLocalId : null);\n    setPhoneNumber(() => {\n      var _data$user;\n\n      return (data === null || data === void 0 ? void 0 : (_data$user = data.user) === null || _data$user === void 0 ? void 0 : _data$user.phoneNumber) ? data.user.phoneNumber : null;\n    }); // if (data === null && cartLocalId === null) {\n    //   setCartId(null);\n    // } else if (data === null && cartLocalId != null) {\n    //   setCartId(cartLocalId);\n    // } else {\n    //   setPhoneNumber(data.user.phoneNumber);\n    // }\n\n    if (data === null) {\n      axios.get(api + \"user/cart?cartId=\" + cartLocalId, headerWithoutToken).then(res => {\n        handleFetchedData(res, FetchgroundData);\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      axios.get(api + \"user/cart?phoneNumber=\" + data.user.phoneNumber, headerWithoutToken).then(res => {\n        handleFetchedData(res, FetchgroundData);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [handleFetchedData, setCartId, setPhoneNumber]);\n  const getAllSlotsByDateTime = useCallback(() => {\n    const groundList = [];\n\n    if (isGroundSelected1) {\n      groundList.push(\"turf01\");\n    }\n\n    if (isGroundSelected2) {\n      groundList.push(\"turf02\");\n    }\n\n    if (isGroundSelected3) {\n      groundList.push(\"turf03\");\n    }\n\n    const postData = {\n      turfIds: [...groundList],\n      date: bookDate,\n      openTime: \"2020-12-24T08:00:00.000Z\",\n      closeTime: \"2020-12-24T16:00:10.000Z\",\n      slotDuration: 30\n    };\n    axios.post(api + \"user/get-all-slots-by-date\", postData, headerWithoutToken).then(res => {\n      const groundDataNew = res.data.body;\n      console.log(\"Get All Slots by Date \", groundDataNew);\n\n      if (groundDataNew) {\n        if (groundDataNew.turf01) {\n          groundDataNew.turf01.forEach(item => {\n            item.id = `${item.startTime}_g1_${item.date}`;\n          });\n        }\n\n        if (groundDataNew.turf02) {\n          groundDataNew.turf02.forEach(item => {\n            item.id = `${item.startTime}_g2_${item.date}`;\n          });\n        }\n\n        if (groundDataNew.turf03) {\n          groundDataNew.turf03.forEach(item => {\n            item.id = `${item.startTime}_g3_${item.date}`;\n          });\n        }\n\n        fetchCartData(groundDataNew);\n      } else {\n        toast.error(\"No Slots Found\");\n      }\n    }).catch(error => {\n      toast.error(error.message);\n      console.log(error.message);\n    });\n  }, [isGroundSelected1, isGroundSelected2, isGroundSelected3, bookDate, fetchCartData]);\n  const setUserData = useCallback(() => {\n    const turfcartId = localStorage.getItem(\"turfCart\");\n    const data = JSON.parse(localStorage.getItem(\"turfUserDetails\"));\n    setCartId(() => turfcartId ? turfcartId : null);\n    setPhoneNumber(() => {\n      var _data$user2, _data$user3;\n\n      return (data === null || data === void 0 ? void 0 : (_data$user2 = data.user) === null || _data$user2 === void 0 ? void 0 : _data$user2.phoneNumber) ? data === null || data === void 0 ? void 0 : (_data$user3 = data.user) === null || _data$user3 === void 0 ? void 0 : _data$user3.phoneNumber : null;\n    });\n  }, [setCartId, setPhoneNumber]);\n  useEffect(() => {\n    getMaxAllowedMonth(setMaxAllowedDate);\n    setUserData();\n    getAllSlotsByDateTime();\n  }, [getAllSlotsByDateTime, setUserData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classnames(\"container is-fluid\"),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames(\"columns\", styles.columnsWrapper),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(\"column box\", styles.addGroundBackground),\n        children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n          className: classnames(\"image\", styles.rotate1),\n          onClick: () => {\n            setIsGroundSelected1(!isGroundSelected1);\n          },\n          children: isGroundSelected1 ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImageSelected,\n            alt: \"Ground 1\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImage,\n            alt: \"Ground 1\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"figure\", {\n          className: classnames(\"image\", styles.rotate),\n          onClick: () => {\n            setIsGroundSelected2(!isGroundSelected2);\n          },\n          children: isGroundSelected2 ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImageSelected,\n            alt: \"Ground 2\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImage,\n            alt: \"Ground 2\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"figure\", {\n          className: classnames(\"image\", styles.rotate),\n          onClick: () => {\n            setIsGroundSelected3(!isGroundSelected3);\n          },\n          children: isGroundSelected3 ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImageSelected,\n            alt: \"Ground 3\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImage,\n            alt: \"Ground 3\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(\"column box is-two-thirds\", styles.addMinHeight, styles.addBookingBackground),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(styles.timeBarWrapper),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\"\n            },\n            className: styles.dateWrapper,\n            children: [/*#__PURE__*/_jsxDEV(BiCalendarWeek, {\n              size: 40,\n              color: \"#FFF\",\n              className: \"mx-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control has-icons-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input\",\n                type: \"date\",\n                placeholder: \"Pick Date\",\n                value: bookDate,\n                min: new Date().toISOString().slice(0, 10),\n                max: maxAllowedDate,\n                onChange: event => {\n                  setBookDate(event.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon is-small is-right\",\n                children: /*#__PURE__*/_jsxDEV(BiCalendarWeek, {\n                  color: \"#000\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(BiCalendarWeek, {\n              size: 40,\n              color: \"#FFF\",\n              className: \"mx-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input \",\n                type: \"time\",\n                placeholder: \"Pick Start Time\",\n                value: startTime,\n                onChange: event => setStartTime(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input ml-3\",\n                type: \"time\",\n                placeholder: \"Pick End Time\",\n                value: endTime,\n                onChange: event => setEndTime(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(styles.slotsWrapper),\n          children: /*#__PURE__*/_jsxDEV(SlotItems, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(styles.checkoutWrapper, \"my-3\"),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.timeBarWrapper,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\"\n              },\n              className: styles.dateWrapper,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"field\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"control\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: classnames(styles.hourcal, \"input\"),\n                    type: \"text\",\n                    placeholder: \"Total Hours\",\n                    readOnly: true,\n                    value: convertMinsToHrsMins(totalTime)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/cart\",\n              className: classnames(styles.checkoutbtn, \"button is-success is-light my-3\"),\n              children: \"Checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Bookings, \"lAuXNRisEVqZvJMZQy2VvQPNuWI=\");\n\n_c = Bookings;\nexport default Bookings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"sources":["/Users/sptdev/Desktop/reactjs/turf2/src/components/Bookings.jsx"],"names":["React","useState","useEffect","useCallback","useContext","classnames","axios","BiCalendarWeek","toast","styles","GroundImage","GroundImageSelected","api","headerWithoutToken","Context","SlotItems","convertMinsToHrsMins","getMaxAllowedMonth","Link","filterData","Bookings","groundData","setGroundData","totalTime","bookDate","setBookDate","setCartId","setPhoneNumber","setCartData","isGroundSelected1","setIsGroundSelected1","isGroundSelected2","setIsGroundSelected2","isGroundSelected3","setIsGroundSelected3","maxAllowedDate","setMaxAllowedDate","startTime","setStartTime","endTime","setEndTime","handleFetchedData","res","FetchgroundData","data","success","sortedData","body","selectedDateCart","newData","turf01","forEach","item","item2","date","isSelected","turf02","turf03","fetchCartData","JSON","parse","localStorage","getItem","cartLocalId","user","phoneNumber","get","then","catch","err","console","log","getAllSlotsByDateTime","groundList","push","postData","turfIds","openTime","closeTime","slotDuration","post","groundDataNew","id","error","message","setUserData","turfcartId","columnsWrapper","addGroundBackground","rotate1","rotate","addMinHeight","addBookingBackground","timeBarWrapper","display","dateWrapper","Date","toISOString","slice","event","target","value","slotsWrapper","checkoutWrapper","hourcal","checkoutbtn"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,EAAkDC,UAAlD,QAAoE,OAApE;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,mBAAP,MAAgC,+BAAhC;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,kBAAP,MAA+B,8BAA/B;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SACEC,oBADF,EAEEC,kBAFF,QAGO,wBAHP;AAIA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,UAAT,QAA2B,qBAA3B;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACrB,QAAM;AACJC,IAAAA,UADI;AAEJC,IAAAA,aAFI;AAGJC,IAAAA,SAHI;AAIJC,IAAAA,QAJI;AAKJC,IAAAA,WALI;AAMJC,IAAAA,SANI;AAOJC,IAAAA,cAPI;AAQJC,IAAAA;AARI,MASFxB,UAAU,CAACU,OAAD,CATd;AAWA,QAAM,CAACe,iBAAD,EAAoBC,oBAApB,IAA4C7B,QAAQ,CAAC,IAAD,CAA1D;AACA,QAAM,CAAC8B,iBAAD,EAAoBC,oBAApB,IAA4C/B,QAAQ,CAAC,KAAD,CAA1D;AACA,QAAM,CAACgC,iBAAD,EAAoBC,oBAApB,IAA4CjC,QAAQ,CAAC,KAAD,CAA1D;AACA,QAAM,CAACkC,cAAD,EAAiBC,iBAAjB,IAAsCnC,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACoC,SAAD,EAAYC,YAAZ,IAA4BrC,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACsC,OAAD,EAAUC,UAAV,IAAwBvC,QAAQ,CAAC,EAAD,CAAtC;AAEA,QAAMwC,iBAAiB,GAAGtC,WAAW,CACnC,CAACuC,GAAD,EAAMC,eAAN,KAA0B;AACxB,QAAID,GAAG,CAACE,IAAJ,CAASC,OAAb,EAAsB;AACpB,YAAM,CAACC,UAAD,IAAe3B,UAAU,CAACuB,GAAG,CAACE,IAAJ,CAASG,IAAV,CAA/B;AACAnB,MAAAA,WAAW,CAACkB,UAAD,CAAX;AACA,YAAME,gBAAgB,GAAGF,UAAU,CAACtB,QAAD,CAAnC;AAEA,YAAMyB,OAAO,GAAGN,eAAhB;;AACA,UAAIK,gBAAJ,EAAsB;AACpB,YAAIA,gBAAgB,CAACE,MAAjB,IAA2BD,OAAO,CAACC,MAAvC,EAA+C;AAC7CF,UAAAA,gBAAgB,CAACE,MAAjB,CAAwBC,OAAxB,CAAiCC,IAAD,IAAU;AACxCH,YAAAA,OAAO,CAACC,MAAR,CAAeC,OAAf,CAAwBE,KAAD,IAAW;AAChC,kBACG,GAAED,IAAI,CAACf,SAAU,OAAMe,IAAI,CAACE,IAAK,EAAlC,KACC,GAAED,KAAK,CAAChB,SAAU,OAAMgB,KAAK,CAACC,IAAK,EAFtC,EAGE;AACAD,gBAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACD;AACF,aAPD;AAQD,WATD;AAUD;;AAED,YAAIP,gBAAgB,CAACQ,MAAjB,IAA2BP,OAAO,CAACO,MAAvC,EAA+C;AAC7CR,UAAAA,gBAAgB,CAACQ,MAAjB,CAAwBL,OAAxB,CAAiCC,IAAD,IAAU;AACxCH,YAAAA,OAAO,CAACO,MAAR,CAAeL,OAAf,CAAwBE,KAAD,IAAW;AAChC,kBACG,GAAED,IAAI,CAACf,SAAU,OAAMe,IAAI,CAACE,IAAK,EAAlC,KACC,GAAED,KAAK,CAAChB,SAAU,OAAMgB,KAAK,CAACC,IAAK,EAFtC,EAGE;AACAD,gBAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACD;AACF,aAPD;AAQD,WATD;AAUD;;AAED,YAAIP,gBAAgB,CAACS,MAAjB,IAA2BR,OAAO,CAACQ,MAAvC,EAA+C;AAC7CT,UAAAA,gBAAgB,CAACS,MAAjB,CAAwBN,OAAxB,CAAiCC,IAAD,IAAU;AACxCH,YAAAA,OAAO,CAACQ,MAAR,CAAeN,OAAf,CAAwBE,KAAD,IAAW;AAChC,kBACG,GAAED,IAAI,CAACf,SAAU,OAAMe,IAAI,CAACE,IAAK,EAAlC,KACC,GAAED,KAAK,CAAChB,SAAU,OAAMgB,KAAK,CAACC,IAAK,EAFtC,EAGE;AACAD,gBAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACD;AACF,aAPD;AAQD,WATD;AAUD;AACF;;AAEDjC,MAAAA,aAAa,CAAC,EAAE,GAAG2B;AAAL,OAAD,CAAb;AACD;AACF,GAnDkC,EAoDnC,CAACrB,WAAD,EAAcJ,QAAd,EAAwBF,aAAxB,CApDmC,CAArC;AAuDA,QAAMoC,aAAa,GAAGvD,WAAW,CAC9BwC,eAAD,IAAqB;AACnB,UAAMC,IAAI,GAAGe,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAb;AACA,UAAMC,WAAW,GAAGF,YAAY,CAACC,OAAb,CAAqB,UAArB,CAApB;AAEApC,IAAAA,SAAS,CAAC,MAAOqC,WAAW,GAAGA,WAAH,GAAiB,IAApC,CAAT;AAEApC,IAAAA,cAAc,CAAC;AAAA;;AAAA,aACb,CAAAiB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,0BAAAA,IAAI,CAAEoB,IAAN,0DAAYC,WAAZ,IAA0BrB,IAAI,CAACoB,IAAL,CAAUC,WAApC,GAAkD,IADrC;AAAA,KAAD,CAAd,CANmB,CAUnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAIrB,IAAI,KAAK,IAAb,EAAmB;AACjBtC,MAAAA,KAAK,CACF4D,GADH,CACOtD,GAAG,GAAG,mBAAN,GAA4BmD,WADnC,EACgDlD,kBADhD,EAEGsD,IAFH,CAESzB,GAAD,IAAS;AACbD,QAAAA,iBAAiB,CAACC,GAAD,EAAMC,eAAN,CAAjB;AACD,OAJH,EAKGyB,KALH,CAKUC,GAAD,IAAS;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAPH;AAQD,KATD,MASO;AACL/D,MAAAA,KAAK,CACF4D,GADH,CAEItD,GAAG,GAAG,wBAAN,GAAiCgC,IAAI,CAACoB,IAAL,CAAUC,WAF/C,EAGIpD,kBAHJ,EAKGsD,IALH,CAKSzB,GAAD,IAAS;AACbD,QAAAA,iBAAiB,CAACC,GAAD,EAAMC,eAAN,CAAjB;AACD,OAPH,EAQGyB,KARH,CAQUC,GAAD,IAAS;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAVH;AAWD;AACF,GAzC8B,EA0C/B,CAAC5B,iBAAD,EAAoBf,SAApB,EAA+BC,cAA/B,CA1C+B,CAAjC;AA6CA,QAAM6C,qBAAqB,GAAGrE,WAAW,CAAC,MAAM;AAC9C,UAAMsE,UAAU,GAAG,EAAnB;;AAEA,QAAI5C,iBAAJ,EAAuB;AACrB4C,MAAAA,UAAU,CAACC,IAAX,CAAgB,QAAhB;AACD;;AACD,QAAI3C,iBAAJ,EAAuB;AACrB0C,MAAAA,UAAU,CAACC,IAAX,CAAgB,QAAhB;AACD;;AACD,QAAIzC,iBAAJ,EAAuB;AACrBwC,MAAAA,UAAU,CAACC,IAAX,CAAgB,QAAhB;AACD;;AACD,UAAMC,QAAQ,GAAG;AACfC,MAAAA,OAAO,EAAE,CAAC,GAAGH,UAAJ,CADM;AAEfnB,MAAAA,IAAI,EAAE9B,QAFS;AAGfqD,MAAAA,QAAQ,EAAE,0BAHK;AAIfC,MAAAA,SAAS,EAAE,0BAJI;AAKfC,MAAAA,YAAY,EAAE;AALC,KAAjB;AAOAzE,IAAAA,KAAK,CACF0E,IADH,CACQpE,GAAG,GAAG,4BADd,EAC4C+D,QAD5C,EACsD9D,kBADtD,EAEGsD,IAFH,CAESzB,GAAD,IAAS;AACb,YAAMuC,aAAa,GAAGvC,GAAG,CAACE,IAAJ,CAASG,IAA/B;AACAuB,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCU,aAAtC;;AACA,UAAIA,aAAJ,EAAmB;AACjB,YAAIA,aAAa,CAAC/B,MAAlB,EAA0B;AACxB+B,UAAAA,aAAa,CAAC/B,MAAd,CAAqBC,OAArB,CAA8BC,IAAD,IAAU;AACrCA,YAAAA,IAAI,CAAC8B,EAAL,GAAW,GAAE9B,IAAI,CAACf,SAAU,OAAMe,IAAI,CAACE,IAAK,EAA5C;AACD,WAFD;AAGD;;AAED,YAAI2B,aAAa,CAACzB,MAAlB,EAA0B;AACxByB,UAAAA,aAAa,CAACzB,MAAd,CAAqBL,OAArB,CAA8BC,IAAD,IAAU;AACrCA,YAAAA,IAAI,CAAC8B,EAAL,GAAW,GAAE9B,IAAI,CAACf,SAAU,OAAMe,IAAI,CAACE,IAAK,EAA5C;AACD,WAFD;AAGD;;AAED,YAAI2B,aAAa,CAACxB,MAAlB,EAA0B;AACxBwB,UAAAA,aAAa,CAACxB,MAAd,CAAqBN,OAArB,CAA8BC,IAAD,IAAU;AACrCA,YAAAA,IAAI,CAAC8B,EAAL,GAAW,GAAE9B,IAAI,CAACf,SAAU,OAAMe,IAAI,CAACE,IAAK,EAA5C;AACD,WAFD;AAGD;;AAEDI,QAAAA,aAAa,CAACuB,aAAD,CAAb;AACD,OApBD,MAoBO;AACLzE,QAAAA,KAAK,CAAC2E,KAAN,CAAY,gBAAZ;AACD;AACF,KA5BH,EA6BGf,KA7BH,CA6BUe,KAAD,IAAW;AAChB3E,MAAAA,KAAK,CAAC2E,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAYY,KAAK,CAACC,OAAlB;AACD,KAhCH;AAiCD,GApDwC,EAoDtC,CACDvD,iBADC,EAEDE,iBAFC,EAGDE,iBAHC,EAIDT,QAJC,EAKDkC,aALC,CApDsC,CAAzC;AA4DA,QAAM2B,WAAW,GAAGlF,WAAW,CAAC,MAAM;AACpC,UAAMmF,UAAU,GAAGzB,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAnB;AACA,UAAMlB,IAAI,GAAGe,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAb;AAEApC,IAAAA,SAAS,CAAC,MAAO4D,UAAU,GAAGA,UAAH,GAAgB,IAAlC,CAAT;AACA3D,IAAAA,cAAc,CAAC;AAAA;;AAAA,aACb,CAAAiB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,2BAAAA,IAAI,CAAEoB,IAAN,4DAAYC,WAAZ,IAA0BrB,IAA1B,aAA0BA,IAA1B,sCAA0BA,IAAI,CAAEoB,IAAhC,gDAA0B,YAAYC,WAAtC,GAAoD,IADvC;AAAA,KAAD,CAAd;AAGD,GAR8B,EAQ5B,CAACvC,SAAD,EAAYC,cAAZ,CAR4B,CAA/B;AAUAzB,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,kBAAkB,CAACmB,iBAAD,CAAlB;AACAiD,IAAAA,WAAW;AACXb,IAAAA,qBAAqB;AACtB,GAJQ,EAIN,CAACA,qBAAD,EAAwBa,WAAxB,CAJM,CAAT;AAMA,sBACE;AAAK,IAAA,SAAS,EAAEhF,UAAU,CAAC,oBAAD,CAA1B;AAAA,2BACE;AAAK,MAAA,SAAS,EAAEA,UAAU,CAAC,SAAD,EAAYI,MAAM,CAAC8E,cAAnB,CAA1B;AAAA,8BACE;AAAK,QAAA,SAAS,EAAElF,UAAU,CAAC,YAAD,EAAeI,MAAM,CAAC+E,mBAAtB,CAA1B;AAAA,gCACE;AACE,UAAA,SAAS,EAAEnF,UAAU,CAAC,OAAD,EAAUI,MAAM,CAACgF,OAAjB,CADvB;AAEE,UAAA,OAAO,EAAE,MAAM;AACb3D,YAAAA,oBAAoB,CAAC,CAACD,iBAAF,CAApB;AACD,WAJH;AAAA,oBAMGA,iBAAiB,gBAChB;AACE,YAAA,GAAG,EAAElB,mBADP;AAEE,YAAA,GAAG,EAAC,UAFN;AAGE,YAAA,SAAS,EAAEF,MAAM,CAACC;AAHpB;AAAA;AAAA;AAAA;AAAA,kBADgB,gBAOhB;AACE,YAAA,GAAG,EAAEA,WADP;AAEE,YAAA,GAAG,EAAC,UAFN;AAGE,YAAA,SAAS,EAAED,MAAM,CAACC;AAHpB;AAAA;AAAA;AAAA;AAAA;AAbJ;AAAA;AAAA;AAAA;AAAA,gBADF,eAsBE;AACE,UAAA,SAAS,EAAEL,UAAU,CAAC,OAAD,EAAUI,MAAM,CAACiF,MAAjB,CADvB;AAEE,UAAA,OAAO,EAAE,MAAM;AACb1D,YAAAA,oBAAoB,CAAC,CAACD,iBAAF,CAApB;AACD,WAJH;AAAA,oBAMGA,iBAAiB,gBAChB;AACE,YAAA,GAAG,EAAEpB,mBADP;AAEE,YAAA,GAAG,EAAC,UAFN;AAGE,YAAA,SAAS,EAAEF,MAAM,CAACC;AAHpB;AAAA;AAAA;AAAA;AAAA,kBADgB,gBAOhB;AACE,YAAA,GAAG,EAAEA,WADP;AAEE,YAAA,GAAG,EAAC,UAFN;AAGE,YAAA,SAAS,EAAED,MAAM,CAACC;AAHpB;AAAA;AAAA;AAAA;AAAA;AAbJ;AAAA;AAAA;AAAA;AAAA,gBAtBF,eA2CE;AACE,UAAA,SAAS,EAAEL,UAAU,CAAC,OAAD,EAAUI,MAAM,CAACiF,MAAjB,CADvB;AAEE,UAAA,OAAO,EAAE,MAAM;AACbxD,YAAAA,oBAAoB,CAAC,CAACD,iBAAF,CAApB;AACD,WAJH;AAAA,oBAMGA,iBAAiB,gBAChB;AACE,YAAA,GAAG,EAAEtB,mBADP;AAEE,YAAA,GAAG,EAAC,UAFN;AAGE,YAAA,SAAS,EAAEF,MAAM,CAACC;AAHpB;AAAA;AAAA;AAAA;AAAA,kBADgB,gBAOhB;AACE,YAAA,GAAG,EAAEA,WADP;AAEE,YAAA,GAAG,EAAC,UAFN;AAGE,YAAA,SAAS,EAAED,MAAM,CAACC;AAHpB;AAAA;AAAA;AAAA;AAAA;AAbJ;AAAA;AAAA;AAAA;AAAA,gBA3CF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAkEE;AACE,QAAA,SAAS,EAAEL,UAAU,CACnB,0BADmB,EAEnBI,MAAM,CAACkF,YAFY,EAGnBlF,MAAM,CAACmF,oBAHY,CADvB;AAAA,gCAOE;AAAK,UAAA,SAAS,EAAEvF,UAAU,CAACI,MAAM,CAACoF,cAAR,CAA1B;AAAA,kCACE;AAAK,YAAA,KAAK,EAAE;AAAEC,cAAAA,OAAO,EAAE;AAAX,aAAZ;AAAiC,YAAA,SAAS,EAAErF,MAAM,CAACsF,WAAnD;AAAA,oCACE,QAAC,cAAD;AAAgB,cAAA,IAAI,EAAE,EAAtB;AAA0B,cAAA,KAAK,EAAC,MAAhC;AAAuC,cAAA,SAAS,EAAC;AAAjD;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,cAAA,SAAS,EAAC,yBAAf;AAAA,sCACE;AACE,gBAAA,SAAS,EAAC,OADZ;AAEE,gBAAA,IAAI,EAAC,MAFP;AAGE,gBAAA,WAAW,EAAC,WAHd;AAIE,gBAAA,KAAK,EAAEvE,QAJT;AAKE,gBAAA,GAAG,EAAE,IAAIwE,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,EAAkC,EAAlC,CALP;AAME,gBAAA,GAAG,EAAE/D,cANP;AAOE,gBAAA,QAAQ,EAAGgE,KAAD,IAAW;AACnB1E,kBAAAA,WAAW,CAAC0E,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACD;AATH;AAAA;AAAA;AAAA;AAAA,sBADF,eAYE;AAAM,gBAAA,SAAS,EAAC,wBAAhB;AAAA,uCACE,QAAC,cAAD;AAAgB,kBAAA,KAAK,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAqBE;AAAK,YAAA,KAAK,EAAE;AAAEP,cAAAA,OAAO,EAAE;AAAX,aAAZ;AAAA,oCACE,QAAC,cAAD;AAAgB,cAAA,IAAI,EAAE,EAAtB;AAA0B,cAAA,KAAK,EAAC,MAAhC;AAAuC,cAAA,SAAS,EAAC;AAAjD;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,cAAA,SAAS,EAAC,SAAf;AAAA,qCACE;AACE,gBAAA,SAAS,EAAC,QADZ;AAEE,gBAAA,IAAI,EAAC,MAFP;AAGE,gBAAA,WAAW,EAAC,iBAHd;AAIE,gBAAA,KAAK,EAAEzD,SAJT;AAKE,gBAAA,QAAQ,EAAG8D,KAAD,IAAW7D,YAAY,CAAC6D,KAAK,CAACC,MAAN,CAAaC,KAAd;AALnC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAFF,eAWE;AAAK,cAAA,SAAS,EAAC,SAAf;AAAA,qCACE;AACE,gBAAA,SAAS,EAAC,YADZ;AAEE,gBAAA,IAAI,EAAC,MAFP;AAGE,gBAAA,WAAW,EAAC,eAHd;AAIE,gBAAA,KAAK,EAAE9D,OAJT;AAKE,gBAAA,QAAQ,EAAG4D,KAAD,IAAW3D,UAAU,CAAC2D,KAAK,CAACC,MAAN,CAAaC,KAAd;AALjC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,kBArBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,eAkDE;AAAK,UAAA,SAAS,EAAEhG,UAAU,CAACI,MAAM,CAAC6F,YAAR,CAA1B;AAAA,iCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAlDF,eAqDE;AAAK,UAAA,SAAS,EAAEjG,UAAU,CAACI,MAAM,CAAC8F,eAAR,EAAyB,MAAzB,CAA1B;AAAA,iCACE;AAAK,YAAA,SAAS,EAAE9F,MAAM,CAACoF,cAAvB;AAAA,oCACE;AAAK,cAAA,KAAK,EAAE;AAAEC,gBAAAA,OAAO,EAAE;AAAX,eAAZ;AAAiC,cAAA,SAAS,EAAErF,MAAM,CAACsF,WAAnD;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,OAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,SAAf;AAAA,yCACE;AACE,oBAAA,SAAS,EAAE1F,UAAU,CAACI,MAAM,CAAC+F,OAAR,EAAiB,OAAjB,CADvB;AAEE,oBAAA,IAAI,EAAC,MAFP;AAGE,oBAAA,WAAW,EAAC,aAHd;AAIE,oBAAA,QAAQ,MAJV;AAKE,oBAAA,KAAK,EAAExF,oBAAoB,CAACO,SAAD;AAL7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAeE,QAAC,IAAD;AACE,cAAA,EAAE,EAAC,OADL;AAEE,cAAA,SAAS,EAAElB,UAAU,CACnBI,MAAM,CAACgG,WADY,EAEnB,iCAFmB,CAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBArDF;AAAA;AAAA;AAAA;AAAA;AAAA,cAlEF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAwJD,CA3VD;;GAAMrF,Q;;KAAAA,Q;AA6VN,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport classnames from \"classnames\";\nimport axios from \"axios\";\nimport { BiCalendarWeek } from \"react-icons/bi\";\nimport { toast } from \"react-toastify\";\nimport styles from \"../css/Bookings.module.css\";\nimport GroundImage from \"../images/ground.png\";\nimport GroundImageSelected from \"../images/ground_selected.png\";\nimport api from \"../config/api\";\nimport headerWithoutToken from \"../config/headerWithoutToken\";\nimport { Context } from \"../data/context\";\nimport SlotItems from \"./SlotItems\";\nimport {\n  convertMinsToHrsMins,\n  getMaxAllowedMonth,\n} from \"../utils/TimeConverter\";\nimport { Link } from \"react-router-dom\";\nimport { filterData } from \"../utils/filterData\";\n\nconst Bookings = () => {\n  const {\n    groundData,\n    setGroundData,\n    totalTime,\n    bookDate,\n    setBookDate,\n    setCartId,\n    setPhoneNumber,\n    setCartData,\n  } = useContext(Context);\n\n  const [isGroundSelected1, setIsGroundSelected1] = useState(true);\n  const [isGroundSelected2, setIsGroundSelected2] = useState(false);\n  const [isGroundSelected3, setIsGroundSelected3] = useState(false);\n  const [maxAllowedDate, setMaxAllowedDate] = useState(\"\");\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n\n  const handleFetchedData = useCallback(\n    (res, FetchgroundData) => {\n      if (res.data.success) {\n        const [sortedData] = filterData(res.data.body);\n        setCartData(sortedData);\n        const selectedDateCart = sortedData[bookDate];\n\n        const newData = FetchgroundData;\n        if (selectedDateCart) {\n          if (selectedDateCart.turf01 || newData.turf01) {\n            selectedDateCart.turf01.forEach((item) => {\n              newData.turf01.forEach((item2) => {\n                if (\n                  `${item.startTime}_g1_${item.date}` ===\n                  `${item2.startTime}_g1_${item2.date}`\n                ) {\n                  item2.isSelected = true;\n                }\n              });\n            });\n          }\n\n          if (selectedDateCart.turf02 || newData.turf02) {\n            selectedDateCart.turf02.forEach((item) => {\n              newData.turf02.forEach((item2) => {\n                if (\n                  `${item.startTime}_g2_${item.date}` ===\n                  `${item2.startTime}_g2_${item2.date}`\n                ) {\n                  item2.isSelected = true;\n                }\n              });\n            });\n          }\n\n          if (selectedDateCart.turf03 || newData.turf03) {\n            selectedDateCart.turf03.forEach((item) => {\n              newData.turf03.forEach((item2) => {\n                if (\n                  `${item.startTime}_g3_${item.date}` ===\n                  `${item2.startTime}_g3_${item2.date}`\n                ) {\n                  item2.isSelected = true;\n                }\n              });\n            });\n          }\n        }\n\n        setGroundData({ ...newData });\n      }\n    },\n    [setCartData, bookDate, setGroundData]\n  );\n\n  const fetchCartData = useCallback(\n    (FetchgroundData) => {\n      const data = JSON.parse(localStorage.getItem(\"turfUserDetails\"));\n      const cartLocalId = localStorage.getItem(\"turfCart\");\n\n      setCartId(() => (cartLocalId ? cartLocalId : null));\n\n      setPhoneNumber(() =>\n        data?.user?.phoneNumber ? data.user.phoneNumber : null\n      );\n\n      // if (data === null && cartLocalId === null) {\n      //   setCartId(null);\n      // } else if (data === null && cartLocalId != null) {\n      //   setCartId(cartLocalId);\n      // } else {\n      //   setPhoneNumber(data.user.phoneNumber);\n      // }\n\n      if (data === null) {\n        axios\n          .get(api + \"user/cart?cartId=\" + cartLocalId, headerWithoutToken)\n          .then((res) => {\n            handleFetchedData(res, FetchgroundData);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      } else {\n        axios\n          .get(\n            api + \"user/cart?phoneNumber=\" + data.user.phoneNumber,\n            headerWithoutToken\n          )\n          .then((res) => {\n            handleFetchedData(res, FetchgroundData);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n    [handleFetchedData, setCartId, setPhoneNumber]\n  );\n\n  const getAllSlotsByDateTime = useCallback(() => {\n    const groundList = [];\n\n    if (isGroundSelected1) {\n      groundList.push(\"turf01\");\n    }\n    if (isGroundSelected2) {\n      groundList.push(\"turf02\");\n    }\n    if (isGroundSelected3) {\n      groundList.push(\"turf03\");\n    }\n    const postData = {\n      turfIds: [...groundList],\n      date: bookDate,\n      openTime: \"2020-12-24T08:00:00.000Z\",\n      closeTime: \"2020-12-24T16:00:10.000Z\",\n      slotDuration: 30,\n    };\n    axios\n      .post(api + \"user/get-all-slots-by-date\", postData, headerWithoutToken)\n      .then((res) => {\n        const groundDataNew = res.data.body;\n        console.log(\"Get All Slots by Date \", groundDataNew);\n        if (groundDataNew) {\n          if (groundDataNew.turf01) {\n            groundDataNew.turf01.forEach((item) => {\n              item.id = `${item.startTime}_g1_${item.date}`;\n            });\n          }\n\n          if (groundDataNew.turf02) {\n            groundDataNew.turf02.forEach((item) => {\n              item.id = `${item.startTime}_g2_${item.date}`;\n            });\n          }\n\n          if (groundDataNew.turf03) {\n            groundDataNew.turf03.forEach((item) => {\n              item.id = `${item.startTime}_g3_${item.date}`;\n            });\n          }\n\n          fetchCartData(groundDataNew);\n        } else {\n          toast.error(\"No Slots Found\");\n        }\n      })\n      .catch((error) => {\n        toast.error(error.message);\n        console.log(error.message);\n      });\n  }, [\n    isGroundSelected1,\n    isGroundSelected2,\n    isGroundSelected3,\n    bookDate,\n    fetchCartData,\n  ]);\n\n  const setUserData = useCallback(() => {\n    const turfcartId = localStorage.getItem(\"turfCart\");\n    const data = JSON.parse(localStorage.getItem(\"turfUserDetails\"));\n\n    setCartId(() => (turfcartId ? turfcartId : null));\n    setPhoneNumber(() =>\n      data?.user?.phoneNumber ? data?.user?.phoneNumber : null\n    );\n  }, [setCartId, setPhoneNumber]);\n\n  useEffect(() => {\n    getMaxAllowedMonth(setMaxAllowedDate);\n    setUserData();\n    getAllSlotsByDateTime();\n  }, [getAllSlotsByDateTime, setUserData]);\n\n  return (\n    <div className={classnames(\"container is-fluid\")}>\n      <div className={classnames(\"columns\", styles.columnsWrapper)}>\n        <div className={classnames(\"column box\", styles.addGroundBackground)}>\n          <figure\n            className={classnames(\"image\", styles.rotate1)}\n            onClick={() => {\n              setIsGroundSelected1(!isGroundSelected1);\n            }}\n          >\n            {isGroundSelected1 ? (\n              <img\n                src={GroundImageSelected}\n                alt=\"Ground 1\"\n                className={styles.GroundImage}\n              />\n            ) : (\n              <img\n                src={GroundImage}\n                alt=\"Ground 1\"\n                className={styles.GroundImage}\n              />\n            )}\n          </figure>\n\n          <figure\n            className={classnames(\"image\", styles.rotate)}\n            onClick={() => {\n              setIsGroundSelected2(!isGroundSelected2);\n            }}\n          >\n            {isGroundSelected2 ? (\n              <img\n                src={GroundImageSelected}\n                alt=\"Ground 2\"\n                className={styles.GroundImage}\n              />\n            ) : (\n              <img\n                src={GroundImage}\n                alt=\"Ground 2\"\n                className={styles.GroundImage}\n              />\n            )}\n          </figure>\n\n          <figure\n            className={classnames(\"image\", styles.rotate)}\n            onClick={() => {\n              setIsGroundSelected3(!isGroundSelected3);\n            }}\n          >\n            {isGroundSelected3 ? (\n              <img\n                src={GroundImageSelected}\n                alt=\"Ground 3\"\n                className={styles.GroundImage}\n              />\n            ) : (\n              <img\n                src={GroundImage}\n                alt=\"Ground 3\"\n                className={styles.GroundImage}\n              />\n            )}\n          </figure>\n        </div>\n\n        <div\n          className={classnames(\n            \"column box is-two-thirds\",\n            styles.addMinHeight,\n            styles.addBookingBackground\n          )}\n        >\n          <div className={classnames(styles.timeBarWrapper)}>\n            <div style={{ display: \"flex\" }} className={styles.dateWrapper}>\n              <BiCalendarWeek size={40} color=\"#FFF\" className=\"mx-3\" />\n              <div className=\"control has-icons-right\">\n                <input\n                  className=\"input\"\n                  type=\"date\"\n                  placeholder=\"Pick Date\"\n                  value={bookDate}\n                  min={new Date().toISOString().slice(0, 10)}\n                  max={maxAllowedDate}\n                  onChange={(event) => {\n                    setBookDate(event.target.value);\n                  }}\n                />\n                <span className=\"icon is-small is-right\">\n                  <BiCalendarWeek color=\"#000\" />\n                </span>\n              </div>\n            </div>\n\n            <div style={{ display: \"flex\" }}>\n              <BiCalendarWeek size={40} color=\"#FFF\" className=\"mx-3\" />\n              <div className=\"control\">\n                <input\n                  className=\"input \"\n                  type=\"time\"\n                  placeholder=\"Pick Start Time\"\n                  value={startTime}\n                  onChange={(event) => setStartTime(event.target.value)}\n                />\n              </div>\n              <div className=\"control\">\n                <input\n                  className=\"input ml-3\"\n                  type=\"time\"\n                  placeholder=\"Pick End Time\"\n                  value={endTime}\n                  onChange={(event) => setEndTime(event.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n          <div className={classnames(styles.slotsWrapper)}>\n            <SlotItems />\n          </div>\n          <div className={classnames(styles.checkoutWrapper, \"my-3\")}>\n            <div className={styles.timeBarWrapper}>\n              <div style={{ display: \"flex\" }} className={styles.dateWrapper}>\n                <div className=\"field\">\n                  <div className=\"control\">\n                    <input\n                      className={classnames(styles.hourcal, \"input\")}\n                      type=\"text\"\n                      placeholder=\"Total Hours\"\n                      readOnly\n                      value={convertMinsToHrsMins(totalTime)}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <Link\n                to=\"/cart\"\n                className={classnames(\n                  styles.checkoutbtn,\n                  \"button is-success is-light my-3\"\n                )}\n              >\n                Checkout\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Bookings;\n"]},"metadata":{},"sourceType":"module"}