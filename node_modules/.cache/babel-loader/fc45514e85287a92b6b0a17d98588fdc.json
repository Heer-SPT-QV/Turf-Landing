{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sptdev/Desktop/reactjs/turf2/src/components/SlotItems.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport classnames from \"classnames\";\nimport styles from \"../css/SlotItems.module.css\";\nimport { Context } from \"../data/context\";\nimport { SlotCardItem } from \"./SlotCardItem\";\nimport { toast } from \"react-toastify\";\nimport api from \"../config/api\";\nimport axios from \"axios\";\nimport headerWithToken from \"../config/headerWithToken\";\nimport { compareDate, compareTime } from \"../utils/compareTime\";\n\nconst SlotItems = () => {\n  _s();\n\n  const {\n    groundData,\n    setGroundData,\n    setTotalTime,\n    cartId,\n    setCartId,\n    phoneNumber\n  } = useContext(Context);\n\n  const addToCart = (index, ground) => {\n    var selectedSlot = null;\n\n    if (ground === 1) {\n      const newData = groundData.turf01;\n      selectedSlot = newData[index];\n    } else if (ground === 2) {\n      const newData = groundData.turf02;\n      selectedSlot = newData[index];\n    } else if (ground === 3) {\n      const newData = groundData.turf03;\n      selectedSlot = newData[index];\n    }\n\n    if (selectedSlot !== null) {\n      const body = {\n        cartId: cartId,\n        userPhoneNumber: phoneNumber,\n        selectedSlots: [selectedSlot]\n      };\n      const url = api + \"user/cart\";\n      axios.post(url, body, headerWithToken).then(async res => {\n        if (res.data.body.phoneNumber === undefined || null) {\n          await localStorage.setItem(\"turfCart\", res.data.body._cartId);\n          setCartId(res.data.body._cartId);\n        }\n\n        if (res.data.success === true) {\n          toast.success(\"Added Successfully to Cart\");\n        }\n      }).catch(error => {\n        toast.error(error.message);\n        console.log(error.message);\n      });\n    }\n\n    setTotalTime(i => i + 30);\n  };\n\n  const removeFromCart = (index, ground, id, item) => {\n    const body = {\n      cartId: cartId,\n      userPhoneNumber: phoneNumber,\n      removeSlot: item\n    };\n    const url = api + \"user/cart/remove\";\n    axios.post(url, body, headerWithToken).then(() => {\n      toast.warning(\"Removed from Cart\");\n    }).catch(err => {\n      console.log(err);\n    });\n    setTotalTime(i => i - 30);\n  };\n\n  const handleOnClick = (index, ground, id, item) => {\n    if (ground === 1) {\n      const newData = groundData.turf01;\n\n      if (newData[index].isSelected) {\n        removeFromCart(index, ground, id, item);\n        newData[index].isSelected = false;\n      } else {\n        addToCart(index, ground);\n        newData[index].isSelected = true;\n      }\n\n      setGroundData({\n        turf01: newData,\n        turf02: groundData.turf02,\n        turf03: groundData.turf03\n      });\n    } else if (ground === 2) {\n      const newData = groundData.turf02;\n\n      if (newData[index].isSelected) {\n        removeFromCart(index, ground, id, item);\n        newData[index].isSelected = false;\n      } else {\n        addToCart(index, ground);\n        newData[index].isSelected = true;\n      }\n\n      setGroundData({\n        turf01: groundData.turf01,\n        turf02: newData,\n        turf03: groundData.turf03\n      });\n    } else if (ground === 3) {\n      const newData = groundData.turf03;\n\n      if (newData[index].isSelected) {\n        removeFromCart(index, ground, id, item);\n        newData[index].isSelected = false;\n      } else {\n        addToCart(index, ground);\n        newData[index].isSelected = true;\n      }\n\n      setGroundData({\n        turf01: groundData.turf01,\n        turf02: groundData.turf02,\n        turf03: newData\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.contentWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(styles.slotHeaderWrapper),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\",\n          children: \"Slots\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(styles.addHorizontalBar)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classnames(\"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\", styles.slotTitle),\n          children: \"Ground 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(styles.slotContentWrapper),\n        children: groundData.turf01 && groundData.turf01.map((item, index) => item.status === \"AVAILABLE\" && compareDate(item.date) ? /*#__PURE__*/_jsxDEV(SlotCardItem, {\n          item: item,\n          index: index,\n          handleOnClick: handleOnClick,\n          id: 1\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }, this) : compareTime(item.startTime) && /*#__PURE__*/_jsxDEV(SlotCardItem, {\n          item: item,\n          index: index,\n          handleOnClick: handleOnClick,\n          id: 1\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.contentWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(styles.slotHeaderWrapper),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\",\n          children: \"Slots\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(styles.addHorizontalBar)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classnames(\"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\", styles.slotTitle),\n          children: \"Ground 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(styles.slotContentWrapper),\n        children: groundData.turf02 && groundData.turf02.map((item, index) => item.status === \"AVAILABLE\" && compareDate(item.date) ? /*#__PURE__*/_jsxDEV(SlotCardItem, {\n          item: item,\n          index: index,\n          handleOnClick: handleOnClick,\n          id: 2\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }, this) : compareTime(item.startTime) && /*#__PURE__*/_jsxDEV(SlotCardItem, {\n          item: item,\n          index: index,\n          handleOnClick: handleOnClick,\n          id: 2\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.contentWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(styles.slotHeaderWrapper),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\",\n          children: \"Slots\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(styles.addHorizontalBar)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classnames(\"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\", styles.slotTitle),\n          children: \"Ground 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(styles.slotContentWrapper),\n        children: groundData.turf03 && groundData.turf03.map((item, index) => item.status === \"AVAILABLE\" && compareDate(item.date) ? /*#__PURE__*/_jsxDEV(SlotCardItem, {\n          item: item,\n          index: index,\n          handleOnClick: handleOnClick,\n          id: 3\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 17\n        }, this) : compareTime(item.startTime) && /*#__PURE__*/_jsxDEV(SlotCardItem, {\n          item: item,\n          index: index,\n          handleOnClick: handleOnClick,\n          id: 3\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SlotItems, \"6cKfRnfLMUtQUgDHcXLsagXSeZY=\");\n\n_c = SlotItems;\nexport default SlotItems;\n\nvar _c;\n\n$RefreshReg$(_c, \"SlotItems\");","map":{"version":3,"sources":["/Users/sptdev/Desktop/reactjs/turf2/src/components/SlotItems.jsx"],"names":["React","useContext","classnames","styles","Context","SlotCardItem","toast","api","axios","headerWithToken","compareDate","compareTime","SlotItems","groundData","setGroundData","setTotalTime","cartId","setCartId","phoneNumber","addToCart","index","ground","selectedSlot","newData","turf01","turf02","turf03","body","userPhoneNumber","selectedSlots","url","post","then","res","data","undefined","localStorage","setItem","_cartId","success","catch","error","message","console","log","i","removeFromCart","id","item","removeSlot","warning","err","handleOnClick","isSelected","contentWrapper","slotHeaderWrapper","addHorizontalBar","slotTitle","slotContentWrapper","map","status","date","startTime"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport classnames from \"classnames\";\nimport styles from \"../css/SlotItems.module.css\";\nimport { Context } from \"../data/context\";\nimport { SlotCardItem } from \"./SlotCardItem\";\nimport { toast } from \"react-toastify\";\nimport api from \"../config/api\";\nimport axios from \"axios\";\nimport headerWithToken from \"../config/headerWithToken\";\nimport { compareDate, compareTime } from \"../utils/compareTime\";\n\nconst SlotItems = () => {\n  const {\n    groundData,\n    setGroundData,\n    setTotalTime,\n    cartId,\n    setCartId,\n    phoneNumber,\n  } = useContext(Context);\n\n  const addToCart = (index, ground) => {\n    var selectedSlot = null;\n    if (ground === 1) {\n      const newData = groundData.turf01;\n      selectedSlot = newData[index];\n    } else if (ground === 2) {\n      const newData = groundData.turf02;\n      selectedSlot = newData[index];\n    } else if (ground === 3) {\n      const newData = groundData.turf03;\n      selectedSlot = newData[index];\n    }\n\n    if (selectedSlot !== null) {\n      const body = {\n        cartId: cartId,\n        userPhoneNumber: phoneNumber,\n        selectedSlots: [selectedSlot],\n      };\n\n      const url = api + \"user/cart\";\n      axios\n        .post(url, body, headerWithToken)\n        .then(async (res) => {\n          if (res.data.body.phoneNumber === undefined || null) {\n            await localStorage.setItem(\"turfCart\", res.data.body._cartId);\n            setCartId(res.data.body._cartId);\n          }\n\n          if (res.data.success === true) {\n            toast.success(\"Added Successfully to Cart\");\n          }\n        })\n        .catch((error) => {\n          toast.error(error.message);\n          console.log(error.message);\n        });\n    }\n\n    setTotalTime((i) => i + 30);\n  };\n\n  const removeFromCart = (index, ground, id, item) => {\n    const body = {\n      cartId: cartId,\n      userPhoneNumber: phoneNumber,\n      removeSlot: item,\n    };\n    const url = api + \"user/cart/remove\";\n    axios\n      .post(url, body, headerWithToken)\n      .then(() => {\n        toast.warning(\"Removed from Cart\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    setTotalTime((i) => i - 30);\n  };\n\n  const handleOnClick = (index, ground, id, item) => {\n    if (ground === 1) {\n      const newData = groundData.turf01;\n      if (newData[index].isSelected) {\n        removeFromCart(index, ground, id, item);\n        newData[index].isSelected = false;\n      } else {\n        addToCart(index, ground);\n        newData[index].isSelected = true;\n      }\n\n      setGroundData({\n        turf01: newData,\n        turf02: groundData.turf02,\n        turf03: groundData.turf03,\n      });\n    } else if (ground === 2) {\n      const newData = groundData.turf02;\n      if (newData[index].isSelected) {\n        removeFromCart(index, ground, id, item);\n        newData[index].isSelected = false;\n      } else {\n        addToCart(index, ground);\n        newData[index].isSelected = true;\n      }\n\n      setGroundData({\n        turf01: groundData.turf01,\n        turf02: newData,\n        turf03: groundData.turf03,\n      });\n    } else if (ground === 3) {\n      const newData = groundData.turf03;\n      if (newData[index].isSelected) {\n        removeFromCart(index, ground, id, item);\n        newData[index].isSelected = false;\n      } else {\n        addToCart(index, ground);\n        newData[index].isSelected = true;\n      }\n\n      setGroundData({\n        turf01: groundData.turf01,\n        turf02: groundData.turf02,\n        turf03: newData,\n      });\n    }\n  };\n\n  return (\n    <div>\n      <div className={styles.contentWrapper}>\n        <div className={classnames(styles.slotHeaderWrapper)}>\n          <p className=\"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\">\n            Slots\n          </p>\n          <div className={classnames(styles.addHorizontalBar)}></div>\n          <p\n            className={classnames(\n              \"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\",\n              styles.slotTitle\n            )}\n          >\n            Ground 1\n          </p>\n        </div>\n\n        <div className={classnames(styles.slotContentWrapper)}>\n          {groundData.turf01 &&\n            groundData.turf01.map((item, index) =>\n              item.status === \"AVAILABLE\" && compareDate(item.date) ? (\n                <SlotCardItem\n                  key={index}\n                  item={item}\n                  index={index}\n                  handleOnClick={handleOnClick}\n                  id={1}\n                />\n              ) : (\n                compareTime(item.startTime) && (\n                  <SlotCardItem\n                    key={index}\n                    item={item}\n                    index={index}\n                    handleOnClick={handleOnClick}\n                    id={1}\n                  />\n                )\n              )\n            )}\n        </div>\n      </div>\n\n      <div className={styles.contentWrapper}>\n        <div className={classnames(styles.slotHeaderWrapper)}>\n          <p className=\"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\">\n            Slots\n          </p>\n          <div className={classnames(styles.addHorizontalBar)}></div>\n          <p\n            className={classnames(\n              \"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\",\n              styles.slotTitle\n            )}\n          >\n            Ground 2\n          </p>\n        </div>\n\n        <div className={classnames(styles.slotContentWrapper)}>\n          {groundData.turf02 &&\n            groundData.turf02.map((item, index) =>\n              item.status === \"AVAILABLE\" && compareDate(item.date) ? (\n                <SlotCardItem\n                  key={index}\n                  item={item}\n                  index={index}\n                  handleOnClick={handleOnClick}\n                  id={2}\n                />\n              ) : (\n                compareTime(item.startTime) && (\n                  <SlotCardItem\n                    key={index}\n                    item={item}\n                    index={index}\n                    handleOnClick={handleOnClick}\n                    id={2}\n                  />\n                )\n              )\n            )}\n        </div>\n      </div>\n\n      <div className={styles.contentWrapper}>\n        <div className={classnames(styles.slotHeaderWrapper)}>\n          <p className=\"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\">\n            Slots\n          </p>\n          <div className={classnames(styles.addHorizontalBar)}></div>\n          <p\n            className={classnames(\n              \"is-size-4-desktop is-size-6-touch is-uppercase has-text-white\",\n              styles.slotTitle\n            )}\n          >\n            Ground 3\n          </p>\n        </div>\n\n        <div className={classnames(styles.slotContentWrapper)}>\n          {groundData.turf03 &&\n            groundData.turf03.map((item, index) =>\n              item.status === \"AVAILABLE\" && compareDate(item.date) ? (\n                <SlotCardItem\n                  key={index}\n                  item={item}\n                  index={index}\n                  handleOnClick={handleOnClick}\n                  id={3}\n                />\n              ) : (\n                compareTime(item.startTime) && (\n                  <SlotCardItem\n                    key={index}\n                    item={item}\n                    index={index}\n                    handleOnClick={handleOnClick}\n                    id={3}\n                  />\n                )\n              )\n            )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SlotItems;\n"]},"metadata":{},"sourceType":"module"}