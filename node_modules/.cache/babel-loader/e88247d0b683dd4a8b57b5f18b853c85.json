{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/sptdev/Desktop/reactjs/turf2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sptdev/Desktop/reactjs/turf2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sptdev/Desktop/reactjs/turf2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useEffect,useContext,useState}from\"react\";import headerWithToken from\"../config/headerWithToken\";import{Context}from\"../data/context\";import api from\"../config/api\";import{ListData}from\"../utils/ListData\";var PaymentGateway=function PaymentGateway(){var _useContext=useContext(Context),cartData=_useContext.cartData;var allData=ListData(cartData);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),responce=_useState2[0],setResponce=_useState2[1];var options={key:\"rzp_test_ZcSb49CvQ0NZhe\",// keyId: rzp_test_ZcSb49CvQ0NZhe\n// keySecret: Qy4DDJgdGCbkABNYhRrn7CMH\n// amount: totalAmount * 100, //  = INR 1\namount:100,name:\"Turf Booking\",description:\"Welcome to Rebounce You can pay with RazorPay and book your turf Ground\",image:\"https://cdn.razorpay.com/logos/7K3b6d18wHwKzL_medium.png\",handler:function handler(response){console.log(response.razorpay_payment_id);setResponce(response.razorpay_payment_id);var data=JSON.parse(localStorage.getItem(\"turfUserDetails\"));var body={userId:data.user.phoneNumber,timeSlots:allData};console.log(body);axios.post(api+\"common/order\",body,headerWithToken).then(function(res){console.log(res);}).catch(function(err){console.log(err.response);});},prefill:{name:\"Neha\",contact:\"9999999999\",email:\"demo@demo.com\"},notes:{address:\"some address\"},theme:{color:\"blue\",hide_topbar:false}};var openPayModal=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var rzp1;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rzp1=new window.Razorpay(options);_context.next=3;return rzp1.open();case 3:case\"end\":return _context.stop();}}},_callee);}));return function openPayModal(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Payment Gateway\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Razor Pay\",onClick:openPayModal})]});};export default PaymentGateway;","map":{"version":3,"sources":["/Users/sptdev/Desktop/reactjs/turf2/src/components/PaymentGateway.jsx"],"names":["axios","React","useEffect","useContext","useState","headerWithToken","Context","api","ListData","PaymentGateway","cartData","allData","responce","setResponce","options","key","amount","name","description","image","handler","response","console","log","razorpay_payment_id","data","JSON","parse","localStorage","getItem","body","userId","user","phoneNumber","timeSlots","post","then","res","catch","err","prefill","contact","email","notes","address","theme","color","hide_topbar","openPayModal","rzp1","window","Razorpay","open"],"mappings":"miBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,eAAhB,CACA,OAASC,QAAT,KAAyB,mBAAzB,CAGA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,iBACNN,UAAU,CAACG,OAAD,CADJ,CACnBI,QADmB,aACnBA,QADmB,CAE3B,GAAMC,CAAAA,OAAO,CAAGH,QAAQ,CAACE,QAAD,CAAxB,CAF2B,cAIKN,QAAQ,CAAC,IAAD,CAJb,wCAIpBQ,QAJoB,eAIVC,WAJU,eAM3B,GAAMC,CAAAA,OAAO,CAAG,CACdC,GAAG,CAAE,yBADS,CAEd;AACA;AACA;AACAC,MAAM,CAAE,GALM,CAMdC,IAAI,CAAE,cANQ,CAOdC,WAAW,CACT,yEARY,CASdC,KAAK,CAAE,0DATO,CAUdC,OAAO,CAAE,iBAAUC,QAAV,CAAoB,CAC3BC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,mBAArB,EACAX,WAAW,CAACQ,QAAQ,CAACG,mBAAV,CAAX,CACA,GAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAb,CACA,GAAMC,CAAAA,IAAI,CAAG,CACXC,MAAM,CAAEN,IAAI,CAACO,IAAL,CAAUC,WADP,CAEXC,SAAS,CAAEvB,OAFA,CAAb,CAIAW,OAAO,CAACC,GAAR,CAAYO,IAAZ,EACA9B,KAAK,CACFmC,IADH,CACQ5B,GAAG,CAAG,cADd,CAC8BuB,IAD9B,CACoCzB,eADpC,EAEG+B,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbf,OAAO,CAACC,GAAR,CAAYc,GAAZ,EACD,CAJH,EAKGC,KALH,CAKS,SAACC,GAAD,CAAS,CACdjB,OAAO,CAACC,GAAR,CAAYgB,GAAG,CAAClB,QAAhB,EACD,CAPH,EAQD,CA3Ba,CA4BdmB,OAAO,CAAE,CACPvB,IAAI,CAAE,MADC,CAEPwB,OAAO,CAAE,YAFF,CAGPC,KAAK,CAAE,eAHA,CA5BK,CAiCdC,KAAK,CAAE,CACLC,OAAO,CAAE,cADJ,CAjCO,CAoCdC,KAAK,CAAE,CACLC,KAAK,CAAE,MADF,CAELC,WAAW,CAAE,KAFR,CApCO,CAAhB,CA0CA,GAAMC,CAAAA,YAAY,0FAAG,4IACfC,IADe,CACR,GAAIC,CAAAA,MAAM,CAACC,QAAX,CAAoBrC,OAApB,CADQ,uBAEbmC,CAAAA,IAAI,CAACG,IAAL,EAFa,uDAAH,kBAAZJ,CAAAA,YAAY,0CAAlB,CAIA,mBACE,oCACE,sCADF,cAEE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,WAA3B,CAAuC,OAAO,CAAEA,YAAhD,EAFF,GADF,CAMD,CA1DD,CA4DA,cAAevC,CAAAA,cAAf","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport headerWithToken from \"../config/headerWithToken\";\nimport { Context } from \"../data/context\";\nimport api from \"../config/api\";\nimport { ListData } from \"../utils/ListData\";\n\n\nconst PaymentGateway = () => {\n  const { cartData } = useContext(Context);\n  const allData = ListData(cartData);\n\n  const [responce, setResponce] = useState(null);\n\n  const options = {\n    key: \"rzp_test_ZcSb49CvQ0NZhe\",\n    // keyId: rzp_test_ZcSb49CvQ0NZhe\n    // keySecret: Qy4DDJgdGCbkABNYhRrn7CMH\n    // amount: totalAmount * 100, //  = INR 1\n    amount: 100,\n    name: \"Turf Booking\",\n    description:\n      \"Welcome to Rebounce You can pay with RazorPay and book your turf Ground\",\n    image: \"https://cdn.razorpay.com/logos/7K3b6d18wHwKzL_medium.png\",\n    handler: function (response) {\n      console.log(response.razorpay_payment_id);\n      setResponce(response.razorpay_payment_id);\n      const data = JSON.parse(localStorage.getItem(\"turfUserDetails\"));\n      const body = {\n        userId: data.user.phoneNumber,\n        timeSlots: allData,\n      };\n      console.log(body)\n      axios\n        .post(api + \"common/order\", body, headerWithToken)\n        .then((res) => {\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err.response);\n        });\n    },\n    prefill: {\n      name: \"Neha\",\n      contact: \"9999999999\",\n      email: \"demo@demo.com\",\n    },\n    notes: {\n      address: \"some address\",\n    },\n    theme: {\n      color: \"blue\",\n      hide_topbar: false,\n    },\n  };\n\n  const openPayModal = async () => {\n    var rzp1 = new window.Razorpay(options);\n    await rzp1.open();\n  };\n  return (\n    <div>\n      <p>Payment Gateway</p>\n      <input type=\"submit\" value=\"Razor Pay\" onClick={openPayModal} />\n    </div>\n  );\n};\n\nexport default PaymentGateway;\n"]},"metadata":{},"sourceType":"module"}