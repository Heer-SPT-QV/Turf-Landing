{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sptdev/Desktop/reactjs/turf2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback,useEffect}from\"react\";import classnames from\"classnames\";import styles from\"../css/Cart.module.css\";import axios from\"axios\";import api from\"../config/api\";import headerWithToken from\"../config/headerWithToken\";import{SlotCardItem}from\"./SlotCardItem\";import cartStyles from\"../css/SlotItems.module.css\";var BookingSummary=function BookingSummary(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),history=_useState2[0],setHistory=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),upcoming=_useState4[0],setUpComing=_useState4[1];var bookingSummary=useCallback(function(){var data=JSON.parse(localStorage.getItem(\"turfUserDetails\"));axios.get(api+'user/booking-history?userPhoneNumber='+data.user.phoneNumber,headerWithToken).then(function(res){console.log(res.data);var filterUpComing=res.data.body.bookedTimeSlots.filter(function(item){console.log(\"date\",new Date());return new Date()<new Date(item.date);});setUpComing(filterUpComing);var filterHistory=res.data.body.bookedTimeSlots.filter(function(item){return new Date()>new Date(item.date);});setHistory(filterHistory);}).catch(function(err){console.log(err);});},[]);var handleOnClick=function handleOnClick(index,ground,id,item){console.log(\"delete booking\");};useEffect(function(){bookingSummary();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:classnames(\"box\",styles.dateCardWrapper),children:[/*#__PURE__*/_jsxs(\"header\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title has-text-white\",children:\"Upcoming Booking\"}),/*#__PURE__*/_jsx(\"div\",{className:classnames(cartStyles.slotContentWrapper),children:upcoming&&upcoming.map(function(item,index){return/*#__PURE__*/_jsx(SlotCardItem,{item:item,index:index,handleOnClick:handleOnClick,id:1},index);})})]}),/*#__PURE__*/_jsxs(\"header\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-header-title has-text-white\",children:\"Booking History\"}),history&&history.map(function(item,index){return/*#__PURE__*/_jsx(SlotCardItem,{item:item,index:index,handleOnClick:handleOnClick,id:1},index);})]})]});};export default BookingSummary;","map":{"version":3,"sources":["/Users/sptdev/Desktop/reactjs/turf2/src/components/BookingSummary.jsx"],"names":["React","useState","useCallback","useEffect","classnames","styles","axios","api","headerWithToken","SlotCardItem","cartStyles","BookingSummary","history","setHistory","upcoming","setUpComing","bookingSummary","data","JSON","parse","localStorage","getItem","get","user","phoneNumber","then","res","console","log","filterUpComing","body","bookedTimeSlots","filter","item","Date","date","filterHistory","catch","err","handleOnClick","index","ground","id","dateCardWrapper","slotContentWrapper","map"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport styles from \"../css/Cart.module.css\";\nimport axios from \"axios\";\nimport api from \"../config/api\";\nimport headerWithToken from \"../config/headerWithToken\";\nimport { SlotCardItem } from \"./SlotCardItem\";\nimport cartStyles from \"../css/SlotItems.module.css\";\n\nconst BookingSummary = () =>{\n\n    const [history,setHistory] = useState([])\n    const [upcoming,setUpComing] = useState([])\n\n    const bookingSummary = useCallback(() =>{\n        const data = JSON.parse(localStorage.getItem(\"turfUserDetails\"))\n        axios.get(api + 'user/booking-history?userPhoneNumber=' + data.user.phoneNumber,headerWithToken).then(res=>{\n          \n            console.log(res.data)\n            const filterUpComing = res.data.body.bookedTimeSlots.filter(\n                function (item) {\n                    console.log(\"date\",new Date())\n                    return new Date() < new Date(item.date)\n                }\n              );\n            setUpComing(filterUpComing)\n            const filterHistory = res.data.body.bookedTimeSlots.filter(\n                function (item) {\n                    return new Date() > new Date(item.date)\n                }\n              );\n            setHistory(filterHistory)\n        }).catch(err=>{\n            console.log(err)\n        })\n    },[])\n\n    const handleOnClick = (index, ground, id, item) => {\n        console.log(\"delete booking\")\n    }\n\n    useEffect(()=>{\n        bookingSummary();\n    },[])\n\n    return(\n        <div className={classnames(\"box\", styles.dateCardWrapper)}>\n            <header className=\"card-header\">\n              <p className=\"card-header-title has-text-white\">Upcoming Booking</p>\n              <div className={classnames(cartStyles.slotContentWrapper)}>\n                {upcoming &&\n                    upcoming.map((item, index) => (\n                    <SlotCardItem\n                        key={index}\n                        item={item}\n                        index={index}\n                        handleOnClick={handleOnClick}\n                        id={1}\n                    />\n                ))}\n            </div>\n            </header>\n            <header className=\"card-header\">\n              <p className=\"card-header-title has-text-white\">Booking History</p>\n              {history &&\n                    history.map((item, index) => (\n                    <SlotCardItem\n                        key={index}\n                        item={item}\n                        index={index}\n                        handleOnClick={handleOnClick}\n                        id={1}\n                    />\n                ))}\n            </header>\n\n        </div>\n    );\n}\nexport default BookingSummary;"]},"metadata":{},"sourceType":"module"}