{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sptdev/Desktop/reactjs/turf2/src/components/BookingSummary.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport styles from \"../css/BookingSummary.module.css\";\nimport axios from \"axios\";\nimport api from \"../config/api\";\nimport headerWithToken from \"../config/headerWithToken\";\nimport { SlotCardItem } from \"./SlotCardItem\";\n\nconst BookingSummary = () => {\n  _s();\n\n  const [history, setHistory] = useState([]);\n  const [upcoming, setUpComing] = useState([]);\n  const bookingSummary = useCallback(() => {\n    const data = JSON.parse(localStorage.getItem(\"turfUserDetails\"));\n    axios.get(api + \"user/booking-history?userPhoneNumber=\" + data.user.phoneNumber, headerWithToken).then(res => {\n      const filterUpComing = res.data.body.bookedTimeSlots.filter(function (item) {\n        return new Date() < new Date(item.date);\n      });\n      setUpComing(filterUpComing);\n      const filterHistory = res.data.body.bookedTimeSlots.filter(function (item) {\n        return new Date() > new Date(item.date);\n      });\n      setHistory(filterHistory);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const handleOnClick = (index, ground, id, item) => {\n    console.log(\"delete\", item);\n    const body = {\n      bookingId: item.bookingId,\n      price: item.price,\n      turfId: item.turfId,\n      userId: item.userId,\n      date: item.date,\n      startTime: item.startTime,\n      endTime: item.endTime\n    };\n    axios.post(api + \"user/cancel-booking\", body, headerWithToken).then(res => {\n      console.log(res.data);\n    });\n  };\n\n  useEffect(() => {\n    bookingSummary();\n  }, [bookingSummary]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames(\"box\", styles.dateCardWrapper),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-header p-5 title has-text-white\",\n        children: \"Upcoming Booking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(\"card-content\", styles.historygrid),\n        children: upcoming && upcoming.map((item, index) => /*#__PURE__*/_jsxDEV(SlotCardItem, {\n          item: item,\n          index: index,\n          handleOnClick: handleOnClick,\n          id: 1\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames(\"box\", styles.dateCardWrapper),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-header title has-text-white p-5\",\n        children: \"Booking History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(\"card-content\", styles.historygrid),\n        children: history && history.map((item, index) => /*#__PURE__*/_jsxDEV(SlotCardItem, {\n          item: item,\n          index: index,\n          handleOnClick: () => {},\n          id: 1,\n          isHistory: true\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(BookingSummary, \"wC0nWB5sGdi6ZqZUSFkpaUKG7ks=\");\n\n_c = BookingSummary;\nexport default BookingSummary;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookingSummary\");","map":{"version":3,"sources":["/Users/sptdev/Desktop/reactjs/turf2/src/components/BookingSummary.jsx"],"names":["React","useState","useCallback","useEffect","classnames","styles","axios","api","headerWithToken","SlotCardItem","BookingSummary","history","setHistory","upcoming","setUpComing","bookingSummary","data","JSON","parse","localStorage","getItem","get","user","phoneNumber","then","res","filterUpComing","body","bookedTimeSlots","filter","item","Date","date","filterHistory","catch","err","console","log","handleOnClick","index","ground","id","bookingId","price","turfId","userId","startTime","endTime","post","dateCardWrapper","historygrid","map"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport styles from \"../css/BookingSummary.module.css\";\nimport axios from \"axios\";\nimport api from \"../config/api\";\nimport headerWithToken from \"../config/headerWithToken\";\nimport { SlotCardItem } from \"./SlotCardItem\";\n\nconst BookingSummary = () => {\n  const [history, setHistory] = useState([]);\n  const [upcoming, setUpComing] = useState([]);\n\n  const bookingSummary = useCallback(() => {\n    const data = JSON.parse(localStorage.getItem(\"turfUserDetails\"));\n    axios\n      .get(\n        api + \"user/booking-history?userPhoneNumber=\" + data.user.phoneNumber,\n        headerWithToken\n      )\n      .then((res) => {\n        const filterUpComing = res.data.body.bookedTimeSlots.filter(function (\n          item\n        ) {\n          return new Date() < new Date(item.date);\n        });\n        setUpComing(filterUpComing);\n        const filterHistory = res.data.body.bookedTimeSlots.filter(function (\n          item\n        ) {\n          return new Date() > new Date(item.date);\n        });\n        setHistory(filterHistory);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  const handleOnClick = (index, ground, id, item) => {\n    console.log(\"delete\", item);\n    const body = {\n      bookingId: item.bookingId,\n      price: item.price,\n      turfId: item.turfId,\n      userId: item.userId,\n      date: item.date,\n      startTime: item.startTime,\n      endTime: item.endTime,\n    };\n    axios\n      .post(api + \"user/cancel-booking\", body, headerWithToken)\n      .then((res) => {\n        console.log(res.data);\n      });\n  };\n\n  useEffect(() => {\n    bookingSummary();\n  }, [bookingSummary]);\n\n  return (\n    <>\n      <div className={classnames(\"box\", styles.dateCardWrapper)}>\n        <p className=\"card-header p-5 title has-text-white\">Upcoming Booking</p>\n        <div className={classnames(\"card-content\", styles.historygrid)}>\n          {upcoming &&\n            upcoming.map((item, index) => (\n              <SlotCardItem\n                key={index}\n                item={item}\n                index={index}\n                handleOnClick={handleOnClick}\n                id={1}\n              />\n            ))}\n        </div>\n      </div>\n      <div className={classnames(\"box\", styles.dateCardWrapper)}>\n        <p className=\"card-header title has-text-white p-5\">Booking History</p>\n        <div className={classnames(\"card-content\", styles.historygrid)}>\n          {history &&\n            history.map((item, index) => (\n              <SlotCardItem\n                key={index}\n                item={item}\n                index={index}\n                handleOnClick={() => {}}\n                id={1}\n                isHistory={true}\n              />\n            ))}\n        </div>\n      </div>\n    </>\n  );\n};\nexport default BookingSummary;\n"]},"metadata":{},"sourceType":"module"}