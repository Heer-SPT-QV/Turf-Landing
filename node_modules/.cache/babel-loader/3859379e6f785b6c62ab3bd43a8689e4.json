{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sptdev/Desktop/reactjs/turf2/src/components/Bookings.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport classnames from \"classnames\";\nimport axios from \"axios\";\nimport { BiCalendarWeek } from \"react-icons/bi\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport styles from \"../css/Bookings.module.css\";\nimport dividerStyles from \"../css/divider.module.css\";\nimport GroundImage from \"../images/ground.png\";\nimport GroundImageSelected from \"../images/ground_selected.png\";\nimport api from \"../config/api\";\nimport headerWithoutToken from \"../config/headerWithoutToken\";\nimport { Context } from \"../data/context\";\nimport SlotItems from \"./SlotItems\";\n\nconst Bookings = () => {\n  _s();\n\n  const {\n    ground1Data,\n    setGround1Data,\n    ground2Data,\n    setGround2Data,\n    ground3Data,\n    setGround3Data\n  } = useContext(Context);\n  const [isGroundSelected1, setIsGroundSelected1] = useState(true);\n  const [isGroundSelected2, setIsGroundSelected2] = useState(false);\n  const [isGroundSelected3, setIsGroundSelected3] = useState(false);\n  const [bookDate, setBookDate] = useState(new Date().toISOString().slice(0, 10));\n  const [maxAllowedDate, setMaxAllowedDate] = useState(\"\");\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n\n  const getMaxAllowedMonth = () => {\n    const date = new Date();\n    const newDate = new Date(date.setMonth(date.getMonth() + 1));\n    setMaxAllowedDate(newDate.toISOString().slice(0, 10));\n  };\n\n  const getAllUserData = useCallback(() => {\n    console.log(\"Get All User Function Called\");\n    const groundList = [];\n\n    if (isGroundSelected1) {\n      groundList.push(\"turf01\");\n    }\n\n    if (isGroundSelected2) {\n      groundList.push(\"turf02\");\n    }\n\n    if (isGroundSelected3) {\n      groundList.push(\"turf03\");\n    }\n\n    const postData = {\n      turfIds: [...groundList],\n      date: bookDate,\n      openTime: \"2020-12-24T08:00:00.000Z\",\n      closeTime: \"2020-12-24T16:00:10.000Z\",\n      slotDuration: 30\n    };\n    axios.post(api + \"user/get-all-slots-by-date\", postData, headerWithoutToken).then(res => {\n      const responseData = res.data.body;\n\n      if (responseData.turf01 !== null && responseData.turf01.length) {\n        setGround1Data([...responseData.turf01]);\n      }\n\n      if (responseData.turf02 !== null && responseData.turf02.length) {\n        setGround2Data([...responseData.turf02]);\n      }\n\n      if (responseData.turf03 !== null && responseData.turf03.length) {\n        setGround3Data([...responseData.turf03]);\n      }\n    }).catch(error => {\n      toast.error(error.message);\n      console.log(error.message);\n    });\n  }, [isGroundSelected1, isGroundSelected2, isGroundSelected3, bookDate, setGround1Data, setGround2Data, setGround3Data]);\n  useEffect(() => {\n    getMaxAllowedMonth();\n    getAllUserData();\n  }, [getAllUserData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classnames(),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classnames(\"columns\", styles.columnsWrapper),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(\"column box\", styles.addGroundBackground),\n        children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n          className: \"image\",\n          onClick: () => {\n            setIsGroundSelected1(!isGroundSelected1);\n          },\n          children: isGroundSelected1 ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImageSelected,\n            alt: \"Ground 1\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImage,\n            alt: \"Ground 1\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"figure\", {\n          className: \"image\",\n          onClick: () => {\n            setIsGroundSelected2(!isGroundSelected2);\n          },\n          children: isGroundSelected2 ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImageSelected,\n            alt: \"Ground 2\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImage,\n            alt: \"Ground 2\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"figure\", {\n          className: \"image\",\n          onClick: () => {\n            setIsGroundSelected3(!isGroundSelected3);\n          },\n          children: isGroundSelected3 ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImageSelected,\n            alt: \"Ground 3\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: GroundImage,\n            alt: \"Ground 3\",\n            className: styles.GroundImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(dividerStyles.divider, dividerStyles.isVertical)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classnames(\"column box is-three-fifths\", styles.addMinHeight, styles.addBookingBackground),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(styles.timeBarWrapper),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(BiCalendarWeek, {\n              size: 40,\n              color: \"#FFF\",\n              className: \"mx-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control has-icons-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input\",\n                type: \"date\",\n                placeholder: \"Pick Date\",\n                value: bookDate,\n                min: new Date().toISOString().slice(0, 10),\n                max: maxAllowedDate,\n                onChange: event => setBookDate(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon is-small is-right\",\n                children: /*#__PURE__*/_jsxDEV(BiCalendarWeek, {\n                  color: \"#000\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(BiCalendarWeek, {\n              size: 40,\n              color: \"#FFF\",\n              className: \"mx-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input \",\n                type: \"time\",\n                placeholder: \"Pick Start Time\",\n                value: startTime,\n                onChange: event => setStartTime(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input ml-3\",\n                type: \"time\",\n                placeholder: \"Pick End Time\",\n                value: endTime,\n                onChange: event => setEndTime(event.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(styles.slotsWrapper),\n          children: [/*#__PURE__*/_jsxDEV(SlotItems, {\n            title: \"Ground 1\",\n            data: ground1Data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SlotItems, {\n            title: \"Ground 2\",\n            data: ground2Data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SlotItems, {\n            title: \"Ground 3\",\n            data: ground3Data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classnames(styles.checkoutWrapper)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Bookings, \"so13Yp5CPDRyBGa9ZVT7kCCJtgE=\");\n\n_c = Bookings;\nexport default Bookings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"sources":["/Users/sptdev/Desktop/reactjs/turf2/src/components/Bookings.jsx"],"names":["React","useState","useEffect","useCallback","useContext","classnames","axios","BiCalendarWeek","ToastContainer","toast","styles","dividerStyles","GroundImage","GroundImageSelected","api","headerWithoutToken","Context","SlotItems","Bookings","ground1Data","setGround1Data","ground2Data","setGround2Data","ground3Data","setGround3Data","isGroundSelected1","setIsGroundSelected1","isGroundSelected2","setIsGroundSelected2","isGroundSelected3","setIsGroundSelected3","bookDate","setBookDate","Date","toISOString","slice","maxAllowedDate","setMaxAllowedDate","startTime","setStartTime","endTime","setEndTime","getMaxAllowedMonth","date","newDate","setMonth","getMonth","getAllUserData","console","log","groundList","push","postData","turfIds","openTime","closeTime","slotDuration","post","then","res","responseData","data","body","turf01","length","turf02","turf03","catch","error","message","columnsWrapper","addGroundBackground","divider","isVertical","addMinHeight","addBookingBackground","timeBarWrapper","display","event","target","value","slotsWrapper","checkoutWrapper"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback, useContext } from \"react\";\nimport classnames from \"classnames\";\nimport axios from \"axios\";\nimport { BiCalendarWeek } from \"react-icons/bi\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport styles from \"../css/Bookings.module.css\";\nimport dividerStyles from \"../css/divider.module.css\";\nimport GroundImage from \"../images/ground.png\";\nimport GroundImageSelected from \"../images/ground_selected.png\";\nimport api from \"../config/api\";\nimport headerWithoutToken from \"../config/headerWithoutToken\";\nimport { Context } from \"../data/context\";\nimport SlotItems from \"./SlotItems\";\n\nconst Bookings = () => {\n  const {\n    ground1Data,\n    setGround1Data,\n    ground2Data,\n    setGround2Data,\n    ground3Data,\n    setGround3Data,\n  } = useContext(Context);\n\n  const [isGroundSelected1, setIsGroundSelected1] = useState(true);\n  const [isGroundSelected2, setIsGroundSelected2] = useState(false);\n  const [isGroundSelected3, setIsGroundSelected3] = useState(false);\n\n  const [bookDate, setBookDate] = useState(\n    new Date().toISOString().slice(0, 10)\n  );\n  const [maxAllowedDate, setMaxAllowedDate] = useState(\"\");\n  const [startTime, setStartTime] = useState(\"\");\n  const [endTime, setEndTime] = useState(\"\");\n\n  const getMaxAllowedMonth = () => {\n    const date = new Date();\n    const newDate = new Date(date.setMonth(date.getMonth() + 1));\n    setMaxAllowedDate(newDate.toISOString().slice(0, 10));\n  };\n\n  const getAllUserData = useCallback(() => {\n    console.log(\"Get All User Function Called\");\n    const groundList = [];\n    if (isGroundSelected1) {\n      groundList.push(\"turf01\");\n    }\n    if (isGroundSelected2) {\n      groundList.push(\"turf02\");\n    }\n    if (isGroundSelected3) {\n      groundList.push(\"turf03\");\n    }\n    const postData = {\n      turfIds: [...groundList],\n      date: bookDate,\n      openTime: \"2020-12-24T08:00:00.000Z\",\n      closeTime: \"2020-12-24T16:00:10.000Z\",\n      slotDuration: 30,\n    };\n\n    axios\n      .post(api + \"user/get-all-slots-by-date\", postData, headerWithoutToken)\n      .then((res) => {\n        const responseData = res.data.body;\n        if (responseData.turf01 !== null && responseData.turf01.length) {\n          setGround1Data([...responseData.turf01]);\n        }\n        if (responseData.turf02 !== null && responseData.turf02.length) {\n          setGround2Data([...responseData.turf02]);\n        }\n        if (responseData.turf03 !== null && responseData.turf03.length) {\n          setGround3Data([...responseData.turf03]);\n        }\n      })\n      .catch((error) => {\n        toast.error(error.message);\n        console.log(error.message);\n      });\n  }, [\n    isGroundSelected1,\n    isGroundSelected2,\n    isGroundSelected3,\n    bookDate,\n    setGround1Data,\n    setGround2Data,\n    setGround3Data,\n  ]);\n\n  useEffect(() => {\n    getMaxAllowedMonth();\n    getAllUserData();\n  }, [getAllUserData]);\n\n  return (\n    <div className={classnames()}>\n      <div className={classnames(\"columns\", styles.columnsWrapper)}>\n        <div className={classnames(\"column box\", styles.addGroundBackground)}>\n          <figure\n            className=\"image\"\n            onClick={() => {\n              setIsGroundSelected1(!isGroundSelected1);\n            }}\n          >\n            {isGroundSelected1 ? (\n              <img\n                src={GroundImageSelected}\n                alt=\"Ground 1\"\n                className={styles.GroundImage}\n              />\n            ) : (\n              <img\n                src={GroundImage}\n                alt=\"Ground 1\"\n                className={styles.GroundImage}\n              />\n            )}\n          </figure>\n\n          <figure\n            className=\"image\"\n            onClick={() => {\n              setIsGroundSelected2(!isGroundSelected2);\n            }}\n          >\n            {isGroundSelected2 ? (\n              <img\n                src={GroundImageSelected}\n                alt=\"Ground 2\"\n                className={styles.GroundImage}\n              />\n            ) : (\n              <img\n                src={GroundImage}\n                alt=\"Ground 2\"\n                className={styles.GroundImage}\n              />\n            )}\n          </figure>\n\n          <figure\n            className=\"image\"\n            onClick={() => {\n              setIsGroundSelected3(!isGroundSelected3);\n            }}\n          >\n            {isGroundSelected3 ? (\n              <img\n                src={GroundImageSelected}\n                alt=\"Ground 3\"\n                className={styles.GroundImage}\n              />\n            ) : (\n              <img\n                src={GroundImage}\n                alt=\"Ground 3\"\n                className={styles.GroundImage}\n              />\n            )}\n          </figure>\n        </div>\n\n        <div\n          className={classnames(\n            dividerStyles.divider,\n            dividerStyles.isVertical\n          )}\n        ></div>\n\n        <div\n          className={classnames(\n            \"column box is-three-fifths\",\n            styles.addMinHeight,\n            styles.addBookingBackground\n          )}\n        >\n          <div className={classnames(styles.timeBarWrapper)}>\n            <div style={{ display: \"flex\" }}>\n              <BiCalendarWeek size={40} color=\"#FFF\" className=\"mx-3\" />\n              <div className=\"control has-icons-right\">\n                <input\n                  className=\"input\"\n                  type=\"date\"\n                  placeholder=\"Pick Date\"\n                  value={bookDate}\n                  min={new Date().toISOString().slice(0, 10)}\n                  max={maxAllowedDate}\n                  onChange={(event) => setBookDate(event.target.value)}\n                />\n                <span className=\"icon is-small is-right\">\n                  <BiCalendarWeek color=\"#000\" />\n                </span>\n              </div>\n            </div>\n\n            <div style={{ display: \"flex\" }}>\n              <BiCalendarWeek size={40} color=\"#FFF\" className=\"mx-3\" />\n              <div className=\"control\">\n                <input\n                  className=\"input \"\n                  type=\"time\"\n                  placeholder=\"Pick Start Time\"\n                  value={startTime}\n                  onChange={(event) => setStartTime(event.target.value)}\n                />\n              </div>\n              <div className=\"control\">\n                <input\n                  className=\"input ml-3\"\n                  type=\"time\"\n                  placeholder=\"Pick End Time\"\n                  value={endTime}\n                  onChange={(event) => setEndTime(event.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n          <div className={classnames(styles.slotsWrapper)}>\n            <SlotItems title=\"Ground 1\" data={ground1Data} />\n            <SlotItems title=\"Ground 2\" data={ground2Data} />\n            <SlotItems title=\"Ground 3\" data={ground3Data} />\n          </div>\n          <div className={classnames(styles.checkoutWrapper)}></div>\n        </div>\n      </div>\n      <ToastContainer />\n    </div>\n  );\n};\n\nexport default Bookings;\n"]},"metadata":{},"sourceType":"module"}